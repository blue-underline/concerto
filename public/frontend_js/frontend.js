var f,aa=aa||{},l=this;function ba(a){a=a.split(".");for(var b=l,c;c=a.shift();)if(null!=b[c])b=b[c];else return null;return b}function ca(){}
function da(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function m(a){return void 0!==a}function n(a){return"array"==da(a)}function ea(a){var b=da(a);return"array"==b||"object"==b&&"number"==typeof a.length}function p(a){return"string"==typeof a}function q(a){return"number"==typeof a}function fa(a){return"function"==da(a)}function ga(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function ia(a){return a[ja]||(a[ja]=++ka)}
var ja="closure_uid_"+(1E9*Math.random()>>>0),ka=0;function la(a,b,c){return a.call.apply(a.bind,arguments)}function ma(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}
function r(a,b,c){r=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?la:ma;return r.apply(null,arguments)}function na(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}var s=Date.now||function(){return+new Date};function t(a,b){function c(){}c.prototype=b.prototype;a.k=b.prototype;a.prototype=new c};var oa;function pa(a){Error.captureStackTrace?Error.captureStackTrace(this,pa):this.stack=Error().stack||"";a&&(this.message=String(a))}t(pa,Error);pa.prototype.name="CustomError";function qa(a,b){for(var c=a.split("%s"),d="",g=Array.prototype.slice.call(arguments,1);g.length&&1<c.length;)d+=c.shift()+g.shift();return d+c.join("%s")}function ra(a){if(!sa.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(ta,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(ua,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(va,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(wa,"&quot;"));return a}var ta=/&/g,ua=/</g,va=/>/g,wa=/\"/g,sa=/[&<>\"]/;function xa(a,b){var c=RegExp(ya(b),"");return a.replace(c,"")}
function ya(a){return String(a).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")}function u(a,b){var c=m(void 0)?a.toFixed(void 0):String(a),d=c.indexOf(".");-1==d&&(d=c.length);d=Math.max(0,b-d);return Array(d+1).join("0")+c}function za(a,b){return a<b?-1:a>b?1:0}function Aa(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})}
function Ba(a){var b=p(void 0)?ya(void 0):"\\s";return a.replace(RegExp("(^"+(b?"|["+b+"]+":"")+")([a-z])","g"),function(a,b,g){return b+g.toUpperCase()})};function Ca(a,b){b.unshift(a);pa.call(this,qa.apply(null,b));b.shift()}t(Ca,pa);Ca.prototype.name="AssertionError";function Da(a,b){throw new Ca("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));};function Fa(a,b){for(var c in a)b.call(void 0,a[c],c,a)}function Ga(a,b){var c={},d;for(d in a)b.call(void 0,a[d],d,a)&&(c[d]=a[d]);return c}function Ha(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function Ia(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function Ja(a){for(var b in a)return!1;return!0}var Ka="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function La(a,b){for(var c,d,g=1;g<arguments.length;g++){d=arguments[g];for(c in d)a[c]=d[c];for(var e=0;e<Ka.length;e++)c=Ka[e],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var v=Array.prototype,w=v.indexOf?function(a,b,c){return v.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(p(a))return p(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},x=v.forEach?function(a,b,c){v.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,g=p(a)?a.split(""):a,e=0;e<d;e++)e in g&&b.call(c,g[e],e,a)},Ma=v.filter?function(a,b,c){return v.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,g=[],e=0,h=p(a)?
a.split(""):a,k=0;k<d;k++)if(k in h){var B=h[k];b.call(c,B,k,a)&&(g[e++]=B)}return g},Na=v.some?function(a,b,c){return v.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,g=p(a)?a.split(""):a,e=0;e<d;e++)if(e in g&&b.call(c,g[e],e,a))return!0;return!1};function Oa(a){var b;a:{b=Pa;for(var c=a.length,d=p(a)?a.split(""):a,g=0;g<c;g++)if(g in d&&b.call(void 0,d[g],g,a)){b=g;break a}b=-1}return 0>b?null:p(a)?a.charAt(b):a[b]}
function Qa(a){if(!n(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0}function Ra(a){return v.concat.apply(v,arguments)}function Sa(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function Ta(a,b,c){return 2>=arguments.length?v.slice.call(a,b):v.slice.call(a,b,c)};function y(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}y.prototype.u=function(){return new y(this.top,this.right,this.bottom,this.left)};y.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"};y.prototype.floor=function(){this.top=Math.floor(this.top);this.right=Math.floor(this.right);this.bottom=Math.floor(this.bottom);this.left=Math.floor(this.left);return this};
y.prototype.round=function(){this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=Math.round(this.left);return this};var Ua,Va,Wa,Xa,Ya;function Za(){return l.navigator?l.navigator.userAgent:null}function $a(){return l.navigator}Xa=Wa=Va=Ua=!1;var ab;if(ab=Za()){var bb=$a();Ua=0==ab.lastIndexOf("Opera",0);Va=!Ua&&(-1!=ab.indexOf("MSIE")||-1!=ab.indexOf("Trident"));Wa=!Ua&&-1!=ab.indexOf("WebKit");Xa=!Ua&&!Wa&&!Va&&"Gecko"==bb.product}var cb=Ua,z=Va,A=Xa,C=Wa,db=$a();Ya=-1!=(db&&db.platform||"").indexOf("Mac");var eb=!!$a()&&-1!=($a().appVersion||"").indexOf("X11");
function fb(){var a=l.document;return a?a.documentMode:void 0}var gb;a:{var hb="",ib;if(cb&&l.opera)var jb=l.opera.version,hb="function"==typeof jb?jb():jb;else if(A?ib=/rv\:([^\);]+)(\)|;)/:z?ib=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:C&&(ib=/WebKit\/(\S+)/),ib)var kb=ib.exec(Za()),hb=kb?kb[1]:"";if(z){var lb=fb();if(lb>parseFloat(hb)){gb=String(lb);break a}}gb=hb}var mb={};
function D(a){var b;if(!(b=mb[a])){b=0;for(var c=String(gb).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),g=Math.max(c.length,d.length),e=0;0==b&&e<g;e++){var h=c[e]||"",k=d[e]||"",B=RegExp("(\\d*)(\\D*)","g"),Ea=RegExp("(\\d*)(\\D*)","g");do{var M=B.exec(h)||["","",""],ha=Ea.exec(k)||["","",""];if(0==M[0].length&&0==ha[0].length)break;b=za(0==M[1].length?0:parseInt(M[1],10),0==ha[1].length?0:parseInt(ha[1],10))||za(0==M[2].length,0==ha[2].length)||
za(M[2],ha[2])}while(0==b)}b=mb[a]=0<=b}return b}var nb=l.document,ob=nb&&z?fb()||("CSS1Compat"==nb.compatMode?parseInt(gb,10):5):void 0;function pb(a,b){this.width=a;this.height=b}f=pb.prototype;f.u=function(){return new pb(this.width,this.height)};f.toString=function(){return"("+this.width+" x "+this.height+")"};f.A=function(){return!(this.width*this.height)};f.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};f.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};function qb(a,b){var c;c=a.className;c=p(c)&&c.match(/\S+/g)||[];for(var d=Ta(arguments,1),g=c.length+d.length,e=c,h=0;h<d.length;h++)0<=w(e,d[h])||e.push(d[h]);a.className=c.join(" ");return c.length==g};var rb=!z||z&&9<=ob,sb=!A&&!z||z&&z&&9<=ob||A&&D("1.9.1");z&&D("9");function tb(a){return a?new ub(vb(a)):oa||(oa=new ub)}function wb(a,b){Fa(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:d in xb?a.setAttribute(xb[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})}var xb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};
function yb(a,b,c){return zb(document,arguments)}function zb(a,b){var c=b[0],d=b[1];if(!rb&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',ra(d.name),'"');if(d.type){c.push(' type="',ra(d.type),'"');var g={};La(g,d);delete g.type;d=g}c.push(">");c=c.join("")}c=a.createElement(c);d&&(p(d)?c.className=d:n(d)?qb.apply(null,[c].concat(d)):wb(c,d));2<b.length&&Ab(a,c,b);return c}
function Ab(a,b,c){function d(c){c&&b.appendChild(p(c)?a.createTextNode(c):c)}for(var g=2;g<c.length;g++){var e=c[g];!ea(e)||ga(e)&&0<e.nodeType?d(e):x(Bb(e)?Sa(e):e,d)}}function Cb(a){for(var b;b=a.firstChild;)a.removeChild(b)}function Db(a){if(void 0!=a.firstElementChild)a=a.firstElementChild;else for(a=a.firstChild;a&&1!=a.nodeType;)a=a.nextSibling;return a}function vb(a){return 9==a.nodeType?a:a.ownerDocument||a.document}
function Bb(a){if(a&&"number"==typeof a.length){if(ga(a))return"function"==typeof a.item||"string"==typeof a.item;if(fa(a))return"function"==typeof a.item}return!1}function ub(a){this.La=a||l.document||document}f=ub.prototype;f.tc=wb;f.dd=function(a,b,c){return zb(this.La,arguments)};f.createElement=function(a){return this.La.createElement(a)};f.createTextNode=function(a){return this.La.createTextNode(String(a))};f.appendChild=function(a,b){a.appendChild(b)};
f.ec=function(a){return sb&&void 0!=a.children?a.children:Ma(a.childNodes,function(a){return 1==a.nodeType})};function E(a,b,c){p(b)?Eb(a,c,b):Fa(b,na(Eb,a))}function Eb(a,b,c){var d;a:if(d=Aa(c),void 0===a.style[d]&&(c=(C?"Webkit":A?"Moz":z?"ms":cb?"O":null)+Ba(c),void 0!==a.style[c])){d=c;break a}d&&(a.style[d]=b)}function F(a,b){var c=vb(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,null))?c[b]||c.getPropertyValue(b)||"":""}function Fb(a,b){return F(a,b)||(a.currentStyle?a.currentStyle[b]:null)||a.style&&a.style[b]}
function G(a,b,c){if(b instanceof pb)c=b.height,b=b.width;else if(void 0==c)throw Error("missing height argument");a.style.width=Gb(b,!0);a.style.height=Gb(c,!0)}function Gb(a,b){"number"==typeof a&&(a=(b?Math.round(a):a)+"px");return a}function Hb(a){var b=Ib;if("none"!=Fb(a,"display"))return b(a);var c=a.style,d=c.display,g=c.visibility,e=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";a=b(a);c.display=d;c.position=e;c.visibility=g;return a}
function Ib(a){var b=a.offsetWidth,c=a.offsetHeight,d=C&&!b&&!c;if((!m(b)||d)&&a.getBoundingClientRect){var g;a:{try{g=a.getBoundingClientRect()}catch(e){g={left:0,top:0,right:0,bottom:0};break a}z&&a.ownerDocument.body&&(a=a.ownerDocument,g.left-=a.documentElement.clientLeft+a.body.clientLeft,g.top-=a.documentElement.clientTop+a.body.clientTop)}return new pb(g.right-g.left,g.bottom-g.top)}return new pb(b,c)}
function Jb(a,b){if(/^\d+px?$/.test(b))return parseInt(b,10);var c=a.style.left,d=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=b;var g=a.style.pixelLeft;a.style.left=c;a.runtimeStyle.left=d;return g}function Kb(a,b){var c=a.currentStyle?a.currentStyle[b]:null;return c?Jb(a,c):0}var Lb={thin:2,medium:4,thick:6};
function Mb(a,b){if("none"==(a.currentStyle?a.currentStyle[b+"Style"]:null))return 0;var c=a.currentStyle?a.currentStyle[b+"Width"]:null;return c in Lb?Lb[c]:Jb(a,c)}function Nb(a){var b={};x(a.split(/\s*;\s*/),function(a){a=a.split(/\s*:\s*/);2==a.length&&(b[Aa(a[0].toLowerCase())]=a[1])});return b};function Ob(){this.pc=s()}new Ob;Ob.prototype.set=function(a){this.pc=a};Ob.prototype.reset=function(){this.set(s())};Ob.prototype.get=function(){return this.pc};function Pb(a){if("function"==typeof a.r)return a.r();if(p(a))return a.split("");if(ea(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Ha(a)}function Qb(a,b,c){if("function"==typeof a.forEach)a.forEach(b,c);else if(ea(a)||p(a))x(a,b,c);else{var d;if("function"==typeof a.I)d=a.I();else if("function"!=typeof a.r)if(ea(a)||p(a)){d=[];for(var g=a.length,e=0;e<g;e++)d.push(e)}else d=Ia(a);else d=void 0;for(var g=Pb(a),e=g.length,h=0;h<e;h++)b.call(c,g[h],d&&d[h],a)}};function H(a,b){this.n={};this.j=[];this.f=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.qb(a)}f=H.prototype;f.l=function(){return this.f};f.r=function(){Rb(this);for(var a=[],b=0;b<this.j.length;b++)a.push(this.n[this.j[b]]);return a};f.I=function(){Rb(this);return this.j.concat()};f.ia=function(a){return Sb(this.n,a)};f.A=function(){return 0==this.f};
f.clear=function(){this.n={};this.f=this.j.length=0};f.remove=function(a){return Sb(this.n,a)?(delete this.n[a],this.f--,this.j.length>2*this.f&&Rb(this),!0):!1};function Rb(a){if(a.f!=a.j.length){for(var b=0,c=0;b<a.j.length;){var d=a.j[b];Sb(a.n,d)&&(a.j[c++]=d);b++}a.j.length=c}if(a.f!=a.j.length){for(var g={},c=b=0;b<a.j.length;)d=a.j[b],Sb(g,d)||(a.j[c++]=d,g[d]=1),b++;a.j.length=c}}f.get=function(a,b){return Sb(this.n,a)?this.n[a]:b};
f.set=function(a,b){Sb(this.n,a)||(this.f++,this.j.push(a));this.n[a]=b};f.qb=function(a){var b;a instanceof H?(b=a.I(),a=a.r()):(b=Ia(a),a=Ha(a));for(var c=0;c<b.length;c++)this.set(b[c],a[c])};f.u=function(){return new H(this)};function Sb(a,b){return Object.prototype.hasOwnProperty.call(a,b)};function Tb(a){this.n=new H;a&&this.qb(a)}function Ub(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+ia(a):b.substr(0,1)+a}f=Tb.prototype;f.l=function(){return this.n.l()};f.add=function(a){this.n.set(Ub(a),a)};f.qb=function(a){a=Pb(a);for(var b=a.length,c=0;c<b;c++)this.add(a[c])};f.Ba=function(a){a=Pb(a);for(var b=a.length,c=0;c<b;c++)this.remove(a[c])};f.remove=function(a){return this.n.remove(Ub(a))};f.clear=function(){this.n.clear()};f.A=function(){return this.n.A()};f.r=function(){return this.n.r()};
f.u=function(){return new Tb(this)};function Vb(a){return Wb(a||arguments.callee.caller,[])}
function Wb(a,b){var c=[];if(0<=w(b,a))c.push("[...circular reference...]");else if(a&&50>b.length){c.push(Xb(a)+"(");for(var d=a.arguments,g=0;g<d.length;g++){0<g&&c.push(", ");var e;e=d[g];switch(typeof e){case "object":e=e?"object":"null";break;case "string":break;case "number":e=String(e);break;case "boolean":e=e?"true":"false";break;case "function":e=(e=Xb(e))?e:"[fn]";break;default:e=typeof e}40<e.length&&(e=e.substr(0,40)+"...");c.push(e)}b.push(a);c.push(")\n");try{c.push(Wb(a.caller,b))}catch(h){c.push("[exception trying to get caller]\n")}}else a?
c.push("[...long stack...]"):c.push("[end]");return c.join("")}function Xb(a){if(Yb[a])return Yb[a];a=String(a);if(!Yb[a]){var b=/function ([^\(]+)/.exec(a);Yb[a]=b?b[1]:"[Anonymous]"}return Yb[a]}var Yb={};function Zb(a,b,c,d,g){this.reset(a,b,c,d,g)}Zb.prototype.dc=null;Zb.prototype.cc=null;var $b=0;Zb.prototype.reset=function(a,b,c,d,g){"number"==typeof g||$b++;d||s();this.ya=a;this.vd=b;delete this.dc;delete this.cc};Zb.prototype.sc=function(a){this.ya=a};function ac(a){this.wd=a}ac.prototype.da=null;ac.prototype.ya=null;ac.prototype.sb=null;ac.prototype.fc=null;function bc(a,b){this.name=a;this.value=b}bc.prototype.toString=function(){return this.name};var cc=new bc("SEVERE",1E3),dc=new bc("WARNING",900),ec=new bc("INFO",800),fc=new bc("CONFIG",700),gc=new bc("FINE",500);f=ac.prototype;f.getParent=function(){return this.da};f.ec=function(){this.sb||(this.sb={});return this.sb};f.sc=function(a){this.ya=a};
function hc(a){if(a.ya)return a.ya;if(a.da)return hc(a.da);Da("Root logger has no level set.");return null}f.log=function(a,b,c){if(a.value>=hc(this).value)for(a=this.kd(a,b,c),b="log:"+a.vd,l.console&&(l.console.timeStamp?l.console.timeStamp(b):l.console.markTimeline&&l.console.markTimeline(b)),l.msWriteProfilerMark&&l.msWriteProfilerMark(b),b=this;b;){c=b;var d=a;if(c.fc)for(var g=0,e=void 0;e=c.fc[g];g++)e(d);b=b.getParent()}};
f.kd=function(a,b,c){var d=new Zb(a,String(b),this.wd);if(c){d.dc=c;var g;var e=arguments.callee.caller;try{var h;var k=ba("window.location.href");if(p(c))h={message:c,name:"Unknown error",lineNumber:"Not available",fileName:k,stack:"Not available"};else{var B,Ea,M=!1;try{B=c.lineNumber||c.Jd||"Not available"}catch(ha){B="Not available",M=!0}try{Ea=c.fileName||c.filename||c.sourceURL||l.$googDebugFname||k}catch(af){Ea="Not available",M=!0}h=!M&&c.lineNumber&&c.fileName&&c.stack&&c.message&&c.name?
c:{message:c.message||"Not available",name:c.name||"UnknownError",lineNumber:B,fileName:Ea,stack:c.stack||"Not available"}}g="Message: "+ra(h.message)+'\nUrl: <a href="view-source:'+h.fileName+'" target="_new">'+h.fileName+"</a>\nLine: "+h.lineNumber+"\n\nBrowser stack:\n"+ra(h.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+ra(Vb(e)+"-> ")}catch(ye){g="Exception trying to expose exception! You win, we lose. "+ye}d.cc=g}return d};f.info=function(a,b){this.log(ec,a,b)};var ic={},jc=null;
function I(a){jc||(jc=new ac(""),ic[""]=jc,jc.sc(fc));var b;if(!(b=ic[a])){b=new ac(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=I(a.substr(0,c));c.ec()[d]=b;b.da=c;ic[a]=b}return b};var kc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function lc(a){if(mc){mc=!1;var b=l.location;if(b){var c=b.href;if(c&&(c=(c=lc(c)[3]||null)&&decodeURIComponent(c))&&c!=b.hostname)throw mc=!0,Error();}}return a.match(kc)}var mc=C;function nc(a,b){var c;if(a instanceof nc)this.w=m(b)?b:a.w,oc(this,a.oa),c=a.kb,J(this),this.kb=c,c=a.sa,J(this),this.sa=c,pc(this,a.ab),c=a.ea,J(this),this.ea=c,qc(this,a.Qa().u()),c=a.Oa,J(this),this.Oa=c;else if(a&&(c=lc(String(a)))){this.w=!!b;oc(this,c[1]||"",!0);var d=c[2]||"";J(this);this.kb=d?decodeURIComponent(d):"";d=c[3]||"";J(this);this.sa=d?decodeURIComponent(d):"";pc(this,c[4]);d=c[5]||"";J(this);this.ea=d?decodeURIComponent(d):"";qc(this,c[6]||"",!0);c=c[7]||"";J(this);this.Oa=c?decodeURIComponent(c):
""}else this.w=!!b,this.H=new rc(null,0,this.w)}f=nc.prototype;f.oa="";f.kb="";f.sa="";f.ab=null;f.ea="";f.Oa="";f.qd=!1;f.w=!1;f.toString=function(){var a=[],b=this.oa;b&&a.push(sc(b,tc),":");if(b=this.sa){a.push("//");var c=this.kb;c&&a.push(sc(c,tc),"@");a.push(encodeURIComponent(String(b)));b=this.ab;null!=b&&a.push(":",String(b))}if(b=this.ea)this.sa&&"/"!=b.charAt(0)&&a.push("/"),a.push(sc(b,"/"==b.charAt(0)?uc:vc));(b=this.H.toString())&&a.push("?",b);(b=this.Oa)&&a.push("#",sc(b,wc));return a.join("")};
f.u=function(){return new nc(this)};function oc(a,b,c){J(a);a.oa=c?b?decodeURIComponent(b):"":b;a.oa&&(a.oa=a.oa.replace(/:$/,""))}function pc(a,b){J(a);if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.ab=b}else a.ab=null}function qc(a,b,c){J(a);b instanceof rc?(a.H=b,a.H.Kb(a.w)):(c||(b=sc(b,xc)),a.H=new rc(b,0,a.w))}f.Qa=function(){return this.H};function J(a){if(a.qd)throw Error("Tried to modify a read-only Uri");}f.Kb=function(a){this.w=a;this.H&&this.H.Kb(a);return this};
function sc(a,b){return p(a)?encodeURI(a).replace(b,yc):null}function yc(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var tc=/[#\/\?@]/g,vc=/[\#\?:]/g,uc=/[\#\?]/g,xc=/[\#\?@]/g,wc=/#/g;function rc(a,b,c){this.t=a||null;this.w=!!c}
function K(a){if(!a.i&&(a.i=new H,a.f=0,a.t))for(var b=a.t.split("&"),c=0;c<b.length;c++){var d=b[c].indexOf("="),g=null,e=null;0<=d?(g=b[c].substring(0,d),e=b[c].substring(d+1)):g=b[c];g=decodeURIComponent(g.replace(/\+/g," "));g=zc(a,g);a.add(g,e?decodeURIComponent(e.replace(/\+/g," ")):"")}}f=rc.prototype;f.i=null;f.f=null;f.l=function(){K(this);return this.f};f.add=function(a,b){K(this);this.t=null;a=zc(this,a);var c=this.i.get(a);c||this.i.set(a,c=[]);c.push(b);this.f++;return this};
f.remove=function(a){K(this);a=zc(this,a);return this.i.ia(a)?(this.t=null,this.f-=this.i.get(a).length,this.i.remove(a)):!1};f.clear=function(){this.i=this.t=null;this.f=0};f.A=function(){K(this);return 0==this.f};f.ia=function(a){K(this);a=zc(this,a);return this.i.ia(a)};f.I=function(){K(this);for(var a=this.i.r(),b=this.i.I(),c=[],d=0;d<b.length;d++)for(var g=a[d],e=0;e<g.length;e++)c.push(b[d]);return c};
f.r=function(a){K(this);var b=[];if(p(a))this.ia(a)&&(b=Ra(b,this.i.get(zc(this,a))));else{a=this.i.r();for(var c=0;c<a.length;c++)b=Ra(b,a[c])}return b};f.set=function(a,b){K(this);this.t=null;a=zc(this,a);this.ia(a)&&(this.f-=this.i.get(a).length);this.i.set(a,[b]);this.f++;return this};f.get=function(a,b){var c=a?this.r(a):[];return 0<c.length?String(c[0]):b};
f.toString=function(){if(this.t)return this.t;if(!this.i)return"";for(var a=[],b=this.i.I(),c=0;c<b.length;c++)for(var d=b[c],g=encodeURIComponent(String(d)),d=this.r(d),e=0;e<d.length;e++){var h=g;""!==d[e]&&(h+="="+encodeURIComponent(String(d[e])));a.push(h)}return this.t=a.join("&")};f.u=function(){var a=new rc;a.t=this.t;this.i&&(a.i=this.i.u(),a.f=this.f);return a};function zc(a,b){var c=String(b);a.w&&(c=c.toLowerCase());return c}
f.Kb=function(a){a&&!this.w&&(K(this),this.t=null,Qb(this.i,function(a,c){var d=c.toLowerCase();c!=d&&(this.remove(c),this.remove(d),0<a.length&&(this.t=null,this.i.set(zc(this,d),Sa(a)),this.f+=a.length))},this));this.w=a};var Ac="closure_listenable_"+(1E6*Math.random()|0);function Bc(a){try{return!(!a||!a[Ac])}catch(b){return!1}}var Cc=0;function Dc(a,b,c,d,g){this.ba=a;this.cb=null;this.src=b;this.type=c;this.Ja=!!d;this.Sa=g;this.key=++Cc;this.na=this.Ia=!1}function Ec(a){a.na=!0;a.ba=null;a.cb=null;a.src=null;a.Sa=null};function Fc(a){this.src=a;this.m={};this.Ea=0}Fc.prototype.add=function(a,b,c,d,g){var e=this.m[a];e||(e=this.m[a]=[],this.Ea++);var h=Gc(e,b,d,g);-1<h?(a=e[h],c||(a.Ia=!1)):(a=new Dc(b,this.src,a,!!d,g),a.Ia=c,e.push(a));return a};Fc.prototype.remove=function(a,b,c,d){if(!(a in this.m))return!1;var g=this.m[a];b=Gc(g,b,c,d);return-1<b?(Ec(g[b]),v.splice.call(g,b,1),0==g.length&&(delete this.m[a],this.Ea--),!0):!1};
function Hc(a,b){var c=b.type;if(!(c in a.m))return!1;var d=a.m[c],g=w(d,b),e;(e=0<=g)&&v.splice.call(d,g,1);e&&(Ec(b),0==a.m[c].length&&(delete a.m[c],a.Ea--));return e}Fc.prototype.Ba=function(a){var b=0,c;for(c in this.m)if(!a||c==a){for(var d=this.m[c],g=0;g<d.length;g++)++b,Ec(d[g]);delete this.m[c];this.Ea--}return b};Fc.prototype.ua=function(a,b,c,d){a=this.m[a];var g=-1;a&&(g=Gc(a,b,c,d));return-1<g?a[g]:null};
function Gc(a,b,c,d){for(var g=0;g<a.length;++g){var e=a[g];if(!e.na&&e.ba==b&&e.Ja==!!c&&e.Sa==d)return g}return-1};var Ic=!z||z&&9<=ob,Jc=z&&!D("9");!C||D("528");A&&D("1.9b")||z&&D("8")||cb&&D("9.5")||C&&D("528");A&&!D("8")||z&&D("9");function L(){0!=Kc&&(Lc[ia(this)]=this)}var Kc=0,Lc={};L.prototype.ja=!1;L.prototype.q=function(){if(!this.ja&&(this.ja=!0,this.g(),0!=Kc)){var a=ia(this);delete Lc[a]}};L.prototype.g=function(){if(this.lc)for(;this.lc.length;)this.lc.shift()()};function N(a,b){this.type=a;this.currentTarget=this.target=b}f=N.prototype;f.g=function(){};f.q=function(){};f.fa=!1;f.defaultPrevented=!1;f.qc=!0;f.preventDefault=function(){this.defaultPrevented=!0;this.qc=!1};function Mc(a){Mc[" "](a);return a}Mc[" "]=ca;function Nc(a,b){if(a){var c=this.type=a.type;N.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(A){var g;a:{try{Mc(d.nodeName);g=!0;break a}catch(e){}g=!1}g||(d=null)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=C||void 0!==a.offsetX?a.offsetX:a.layerX;this.offsetY=C||void 0!==a.offsetY?a.offsetY:a.layerY;this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:
a.pageY;this.screenX=a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.state=a.state;this.bc=a;a.defaultPrevented&&this.preventDefault();delete this.fa}}t(Nc,N);f=Nc.prototype;f.target=null;f.relatedTarget=null;f.offsetX=0;f.offsetY=0;f.clientX=0;f.clientY=0;f.screenX=0;f.screenY=0;f.button=0;f.keyCode=0;
f.charCode=0;f.ctrlKey=!1;f.altKey=!1;f.shiftKey=!1;f.metaKey=!1;f.bc=null;f.preventDefault=function(){Nc.k.preventDefault.call(this);var a=this.bc;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Jc)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};f.g=function(){};var Oc="closure_lm_"+(1E6*Math.random()|0),Pc={},Qc=0;function Rc(a,b,c,d,g){if(n(b)){for(var e=0;e<b.length;e++)Rc(a,b[e],c,d,g);return null}c=Sc(c);return Bc(a)?a.Xa(b,c,d,g):Tc(a,b,c,!1,d,g)}function Tc(a,b,c,d,g,e){if(!b)throw Error("Invalid event type");var h=!!g,k=Uc(a);k||(a[Oc]=k=new Fc(a));c=k.add(b,c,d,g,e);if(c.cb)return c;d=Vc();c.cb=d;d.src=a;d.ba=c;a.addEventListener?a.addEventListener(b,d,h):a.attachEvent(b in Pc?Pc[b]:Pc[b]="on"+b,d);Qc++;return c}
function Vc(){var a=Wc,b=Ic?function(c){return a.call(b.src,b.ba,c)}:function(c){c=a.call(b.src,b.ba,c);if(!c)return c};return b}function O(a,b,c,d,g){if(n(b)){for(var e=0;e<b.length;e++)O(a,b[e],c,d,g);return null}c=Sc(c);return Bc(a)?a.Db(b,c,d,g):Tc(a,b,c,!0,d,g)}function Xc(a,b,c,d,g){if(n(b))for(var e=0;e<b.length;e++)Xc(a,b[e],c,d,g);else c=Sc(c),Bc(a)?a.pa(b,c,d,g):a&&(a=Uc(a))&&(b=a.ua(b,c,!!d,g))&&Yc(b)}
function Yc(a){if(q(a)||!a||a.na)return!1;var b=a.src;if(Bc(b))return Hc(b.F,a);var c=a.type,d=a.cb;b.removeEventListener?b.removeEventListener(c,d,a.Ja):b.detachEvent&&b.detachEvent(c in Pc?Pc[c]:Pc[c]="on"+c,d);Qc--;(c=Uc(b))?(Hc(c,a),0==c.Ea&&(c.src=null,b[Oc]=null)):Ec(a);return!0}function Zc(a){if(a)if(Bc(a))a.F&&a.F.Ba(void 0);else if(a=Uc(a)){var b=0,c;for(c in a.m)for(var d=Sa(a.m[c]),g=0;g<d.length;++g)Yc(d[g])&&++b}}
function $c(a,b,c,d){var g=1;if(a=Uc(a))if(b=a.m[b])for(b=Sa(b),a=0;a<b.length;a++){var e=b[a];e&&e.Ja==c&&!e.na&&(g&=!1!==ad(e,d))}return Boolean(g)}function ad(a,b){var c=a.ba,d=a.Sa||a.src;a.Ia&&Yc(a);return c.call(d,b)}
function Wc(a,b){if(a.na)return!0;if(!Ic){var c=b||ba("window.event"),d=new Nc(c,this),g=!0;if(!(0>c.keyCode||void 0!=c.returnValue)){a:{var e=!1;if(0==c.keyCode)try{c.keyCode=-1;break a}catch(h){e=!0}if(e||void 0==c.returnValue)c.returnValue=!0}c=[];for(e=d.currentTarget;e;e=e.parentNode)c.push(e);for(var e=a.type,k=c.length-1;!d.fa&&0<=k;k--)d.currentTarget=c[k],g&=$c(c[k],e,!0,d);for(k=0;!d.fa&&k<c.length;k++)d.currentTarget=c[k],g&=$c(c[k],e,!1,d)}return g}return ad(a,new Nc(b,this))}
function Uc(a){a=a[Oc];return a instanceof Fc?a:null}var bd="__closure_events_fn_"+(1E9*Math.random()>>>0);function Sc(a){return fa(a)?a:a[bd]||(a[bd]=function(b){return a.handleEvent(b)})};var P={};var Q;
Q={Fc:["BC","AD"],Ec:["Before Christ","Anno Domini"],Jc:"JFMAMJJASOND".split(""),Pc:"JFMAMJJASOND".split(""),Ic:"January February March April May June July August September October November December".split(" "),Oc:"January February March April May June July August September October November December".split(" "),Lc:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Rc:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Uc:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Tc:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
Nc:"Sun Mon Tue Wed Thu Fri Sat".split(" "),Sc:"Sun Mon Tue Wed Thu Fri Sat".split(" "),Hd:"SMTWTFS".split(""),Qc:"SMTWTFS".split(""),Mc:["Q1","Q2","Q3","Q4"],Kc:["1st quarter","2nd quarter","3rd quarter","4th quarter"],Cc:["AM","PM"],Pb:["EEEE, MMMM d, y","MMMM d, y","MMM d, y","M/d/yy"],Qb:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],Dc:["{1} 'at' {0}","{1} 'at' {0}","{1}, {0}","{1}, {0}"],Gc:6,Id:[5,6],Hc:5};function cd(a,b,c){q(a)?(this.b=new Date(a,b||0,c||1),dd(this,c||1)):ga(a)?(this.b=new Date(a.getFullYear(),a.getMonth(),a.getDate()),dd(this,a.getDate())):(this.b=new Date(s()),this.b.setHours(0),this.b.setMinutes(0),this.b.setSeconds(0),this.b.setMilliseconds(0))}f=cd.prototype;f.Ma=Q.Gc;f.Na=Q.Hc;f.u=function(){var a=new cd(this.b);a.Ma=this.Ma;a.Na=this.Na;return a};f.getFullYear=function(){return this.b.getFullYear()};f.getYear=function(){return this.getFullYear()};f.getMonth=function(){return this.b.getMonth()};
f.getDate=function(){return this.b.getDate()};f.getTime=function(){return this.b.getTime()};f.getDay=function(){return this.b.getDay()};f.getUTCFullYear=function(){return this.b.getUTCFullYear()};f.getUTCMonth=function(){return this.b.getUTCMonth()};f.getUTCDate=function(){return this.b.getUTCDate()};f.getUTCHours=function(){return this.b.getUTCHours()};f.getUTCMinutes=function(){return this.b.getUTCMinutes()};f.getTimezoneOffset=function(){return this.b.getTimezoneOffset()};
function ed(a){a=a.getTimezoneOffset();if(0==a)a="Z";else{var b=Math.abs(a)/60,c=Math.floor(b),b=60*(b-c);a=(0<a?"-":"+")+u(c,2)+":"+u(b,2)}return a}f.set=function(a){this.b=new Date(a.getFullYear(),a.getMonth(),a.getDate())};f.setFullYear=function(a){this.b.setFullYear(a)};f.setMonth=function(a){this.b.setMonth(a)};f.setDate=function(a){this.b.setDate(a)};
f.add=function(a){if(a.Gd||a.ud){var b=this.getMonth()+a.ud+12*a.Gd,c=this.getYear()+Math.floor(b/12),b=b%12;0>b&&(b+=12);var d;a:{switch(b){case 1:d=0!=c%4||0==c%100&&0!=c%400?28:29;break a;case 5:case 8:case 10:case 3:d=30;break a}d=31}d=Math.min(d,this.getDate());this.setDate(1);this.setFullYear(c);this.setMonth(b);this.setDate(d)}a.ed&&(a=new Date((new Date(this.getYear(),this.getMonth(),this.getDate(),12)).getTime()+864E5*a.ed),this.setDate(1),this.setFullYear(a.getFullYear()),this.setMonth(a.getMonth()),
this.setDate(a.getDate()),dd(this,a.getDate()))};f.hb=function(a,b){return[this.getFullYear(),u(this.getMonth()+1,2),u(this.getDate(),2)].join(a?"-":"")+(b?ed(this):"")};f.toString=function(){return this.hb()};function dd(a,b){a.getDate()!=b&&a.b.setUTCHours(a.b.getUTCHours()+(a.getDate()<b?1:-1))}f.valueOf=function(){return this.b.valueOf()};function fd(a,b,c,d,g,e,h){this.b=q(a)?new Date(a,b||0,c||1,d||0,g||0,e||0,h||0):new Date(a?a.getTime():s())}t(fd,cd);f=fd.prototype;f.getHours=function(){return this.b.getHours()};
f.getMinutes=function(){return this.b.getMinutes()};f.getSeconds=function(){return this.b.getSeconds()};f.getMilliseconds=function(){return this.b.getMilliseconds()};f.getUTCHours=function(){return this.b.getUTCHours()};f.getUTCMinutes=function(){return this.b.getUTCMinutes()};f.setHours=function(a){this.b.setHours(a)};f.setMinutes=function(a){this.b.setMinutes(a)};f.setSeconds=function(a){this.b.setSeconds(a)};f.setMilliseconds=function(a){this.b.setMilliseconds(a)};f.setUTCHours=function(a){this.b.setUTCHours(a)};
f.add=function(a){cd.prototype.add.call(this,a);a.nd&&this.setHours(this.b.getHours()+a.nd);a.td&&this.setMinutes(this.b.getMinutes()+a.td);a.zd&&this.setSeconds(this.b.getSeconds()+a.zd)};f.hb=function(a,b){var c=cd.prototype.hb.call(this,a);return a?c+" "+u(this.getHours(),2)+":"+u(this.getMinutes(),2)+":"+u(this.getSeconds(),2)+(b?ed(this):""):c+"T"+u(this.getHours(),2)+u(this.getMinutes(),2)+u(this.getSeconds(),2)+(b?ed(this):"")};f.toString=function(){return this.hb()};
f.u=function(){var a=new fd(this.b);a.Ma=this.Ma;a.Na=this.Na;return a};function R(){L.call(this);this.F=new Fc(this);this.Wc=this}t(R,L);R.prototype[Ac]=!0;f=R.prototype;f.Jb=null;f.addEventListener=function(a,b,c,d){Rc(this,a,b,c,d)};f.removeEventListener=function(a,b,c,d){Xc(this,a,b,c,d)};
f.dispatchEvent=function(a){var b,c=this.Jb;if(c)for(b=[];c;c=c.Jb)b.push(c);var c=this.Wc,d=a.type||a;if(p(a))a=new N(a,c);else if(a instanceof N)a.target=a.target||c;else{var g=a;a=new N(d,c);La(a,g)}var g=!0,e;if(b)for(var h=b.length-1;!a.fa&&0<=h;h--)e=a.currentTarget=b[h],g=gd(e,d,!0,a)&&g;a.fa||(e=a.currentTarget=c,g=gd(e,d,!0,a)&&g,a.fa||(g=gd(e,d,!1,a)&&g));if(b)for(h=0;!a.fa&&h<b.length;h++)e=a.currentTarget=b[h],g=gd(e,d,!1,a)&&g;return g};
f.g=function(){R.k.g.call(this);this.F&&this.F.Ba(void 0);this.Jb=null};f.Xa=function(a,b,c,d){return this.F.add(String(a),b,!1,c,d)};f.Db=function(a,b,c,d){return this.F.add(String(a),b,!0,c,d)};f.pa=function(a,b,c,d){return this.F.remove(String(a),b,c,d)};function gd(a,b,c,d){b=a.F.m[String(b)];if(!b)return!0;b=Sa(b);for(var g=!0,e=0;e<b.length;++e){var h=b[e];if(h&&!h.na&&h.Ja==c){var k=h.ba,B=h.Sa||h.src;h.Ia&&Hc(a.F,h);g=!1!==k.call(B,d)&&g}}return g&&!1!=d.qc}
f.ua=function(a,b,c,d){return this.F.ua(String(a),b,c,d)};function hd(a,b,c){if(fa(a))c&&(a=r(a,c));else if(a&&"function"==typeof a.handleEvent)a=r(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<b?-1:l.setTimeout(a,b||0)};function id(a,b,c){L.call(this);this.Eb=a;this.pd=b||0;this.J=c;this.Zc=r(this.fd,this)}t(id,L);f=id.prototype;f.va=0;f.g=function(){id.k.g.call(this);this.stop();delete this.Eb;delete this.J};f.start=function(a){this.stop();this.va=hd(this.Zc,m(a)?a:this.pd)};f.stop=function(){this.Va()&&l.clearTimeout(this.va);this.va=0};f.Va=function(){return 0!=this.va};f.fd=function(){this.va=0;this.Eb&&this.Eb.call(this.J)};function S(a){R.call(this);a=a||{};this.id=a.id||null;this.ha=!1;this.Mb=a.type||"unknown";this.duration=a.duration||10;this.a=yb("div")}t(S,R);f=S.prototype;f.c=I("concerto.frontend.Content");function jd(a){a.c.info("Content "+a.Mb+" "+a.id+" is starting to load.");a.wc=new fd;a.Ac=new id(a.hd,1E3*a.duration,a);O(a,kd,a.Bd,!1,a);a.dispatchEvent(ld);a.U()}f.rb=function(a,b){b=b||this.a;E(b,a);qb(b,this.Mb.toLowerCase())};f.U=function(){T(this)};
function T(a){a.ac=new fd;a.c.info("Content "+a.id+" is done loading. Took: "+(a.ac.getMilliseconds()-a.wc.getMilliseconds())+"ms.");a.dispatchEvent(md)}f.Bd=function(){this.Ac.start()};f.hd=function(){this.dispatchEvent(nd)};f.q=function(){Zc(this);this.Ac.q();this.ac=this.wc=this.a=null};var ld="a",md="b",kd="d",nd="g";function od(a,b,c){R.call(this);this.h=a;this.o=b||null;this.p=c||null}t(od,R);f=od.prototype;f.go=function(){null!=this.o?this.Ib():null!=this.p&&this.Ua()};f.Ib=function(){this.o.dispatchEvent("e");this.Hb()};f.Hb=function(){var a=this.o.v;a&&a.parentNode&&a.parentNode.removeChild(a);this.o.dispatchEvent("f");null!=this.p&&this.Ua()};f.Ua=function(){this.p.dispatchEvent("c");this.h.O(this.p.v,this.p.ha);this.Ab()};f.Ab=function(){this.p.dispatchEvent(kd)};function pd(a){S.call(this,a);this.ha=!0;this.Y=a.h.size.height;this.Z=a.h.size.width;this.od=a.render_details.data}t(pd,S);P.HtmlText=pd;pd.prototype.U=function(){this.a.innerHTML=this.od;T(this)};function qd(a){L.call(this);this.J=a;this.j={}}t(qd,L);var rd=[];f=qd.prototype;f.Xa=function(a,b,c,d,g){n(b)||(rd[0]=b,b=rd);for(var e=0;e<b.length;e++){var h=Rc(a,b[e],c||this.handleEvent,d||!1,g||this.J||this);if(!h)break;this.j[h.key]=h}return this};f.Db=function(a,b,c,d,g){a:{if(n(b))for(var e=0;e<b.length;e++)this.Db(a,b[e],c,d,g);else{a=O(a,b,c||this.handleEvent,d,g||this.J||this);if(!a){a=this;break a}this.j[a.key]=a}a=this}return a};
f.pa=function(a,b,c,d,g){if(n(b))for(var e=0;e<b.length;e++)this.pa(a,b[e],c,d,g);else c=c||this.handleEvent,g=g||this.J||this,c=Sc(c),d=!!d,b=Bc(a)?a.ua(b,c,d,g):a?(a=Uc(a))?a.ua(b,c,d,g):null:null,b&&(Yc(b),delete this.j[b.key]);return this};f.Ba=function(){Fa(this.j,Yc);this.j={}};f.g=function(){qd.k.g.call(this);this.Ba()};f.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function sd(a){R.call(this);this.xa={};this.wa={};this.J=new qd(this);this.da=a}t(sd,R);var td=[z&&!D("11")?"readystatechange":"load","abort","error"];sd.prototype.start=function(){var a=this.xa;x(Ia(a),function(b){var c=a[b];if(c&&(delete a[b],!this.ja)){var d;d=this.da?tb(this.da).dd("img"):new Image;this.J.Xa(d,td,this.mc);this.wa[b]=d;d.id=b;d.src=c}},this)};
sd.prototype.mc=function(a){var b=a.currentTarget;if(b){if("readystatechange"==a.type)if("complete"==b.readyState)a.type="load";else return;"undefined"==typeof b.naturalWidth&&("load"==a.type?(b.naturalWidth=b.width,b.naturalHeight=b.height):(b.naturalWidth=0,b.naturalHeight=0));this.dispatchEvent({type:a.type,target:b});!this.ja&&(a=b.id,delete this.xa[a],b=this.wa[a])&&(delete this.wa[a],this.J.pa(b,td,this.mc),Ja(this.wa)&&Ja(this.xa)&&this.dispatchEvent("complete"))}};
sd.prototype.g=function(){delete this.xa;delete this.wa;var a=this.J;a&&"function"==typeof a.q&&a.q();sd.k.g.call(this)};function U(a){S.call(this,a);this.za=new sd;O(this.za,"load",this.rd,!1,this);this.Y=a.h.size.height;this.Z=a.h.size.width;this.$=null;a=new nc(a.render_details.path);var b=this.Y;J(a);a.H.set("height",b);b=this.Z;J(a);a.H.set("width",b);a=a.toString();(a=p(a)?a:a.src)&&(this.za.xa.graphic=a)}t(U,S);P.Graphic=U;U.prototype.U=function(){this.za.start()};
U.prototype.rd=function(a){this.c.info("Content "+this.Mb+" "+this.id+" is in .loaderFinish_");this.$=a.target;this.a.appendChild(this.$);E(this.$,"margin",(this.Y-this.$.height)/2+"px "+(this.Z-this.$.width)/2+"px");G(this.a,"100%","100%");T(this)};
U.prototype.rb=function(a){U.k.rb.call(this,a,Db(this.a));E(this.a,"position","absolute");var b=Db(this.a);a=this.$.width;var c=this.$.height,d;d="CSS1Compat"==tb(vb(b)).La.compatMode;if(!z||d&&D("8")){var g=b.style;A?g.MozBoxSizing="border-box":C?g.WebkitBoxSizing="border-box":g.boxSizing="border-box";g.width=Math.max(a,0)+"px";g.height=Math.max(c,0)+"px"}else if(g=b.style,d){if(z){d=Kb(b,"paddingLeft");var e=Kb(b,"paddingRight"),h=Kb(b,"paddingTop"),k=Kb(b,"paddingBottom");d=new y(h,e,k,d)}else d=
F(b,"paddingLeft"),e=F(b,"paddingRight"),h=F(b,"paddingTop"),k=F(b,"paddingBottom"),d=new y(parseFloat(h),parseFloat(e),parseFloat(k),parseFloat(d));!z||z&&9<=ob?(e=F(b,"borderLeftWidth"),h=F(b,"borderRightWidth"),k=F(b,"borderTopWidth"),b=F(b,"borderBottomWidth"),b=new y(parseFloat(k),parseFloat(h),parseFloat(b),parseFloat(e))):(e=Mb(b,"borderLeft"),h=Mb(b,"borderRight"),k=Mb(b,"borderTop"),b=Mb(b,"borderBottom"),b=new y(k,h,b,e));g.pixelWidth=a-b.left-d.left-d.right-b.right;g.pixelHeight=c-b.top-
d.top-d.bottom-b.bottom}else g.pixelWidth=a,g.pixelHeight=c};U.prototype.q=function(){U.k.q.call(this);this.za.q();this.za=null};function ud(a){S.call(this,a);this.Y=a.h.size.height;this.Z=a.h.size.width;this.s=null;this.Ob=a.render_details.path;this.e=a.h.config?a.h.config.url_parms:null;null!=this.e?(this.e=this.e.trim(),0==this.e.lastIndexOf("?",0)&&(this.e=xa(this.e,"?")),0==this.e.lastIndexOf("&",0)&&(this.e=xa(this.e,"&")),this.e=-1!=this.Ob.indexOf("?")?"&"+this.e:"?"+this.e):this.e="";this.duration+=1}t(ud,S);P.RemoteVideo=ud;
ud.prototype.U=function(){this.s=document.createElement("iframe");this.s.src=this.Ob+this.e;this.s.jd=0;G(this.s,"100%","100%");G(this.a,"100%","100%");E(this.s,"border",0);this.a.appendChild(this.s);T(this)};function vd(a){S.call(this,a);this.ha=!0;this.text=a.render_details.data;this.Y=a.h.size.height;this.Z=a.h.size.width}t(vd,S);P.Ticker=vd;vd.prototype.U=function(){Cb(this.a);var a;var b="<div>"+this.text+"</div>",c=document;a=c.createElement("div");z?(a.innerHTML="<br>"+b,a.removeChild(a.firstChild)):a.innerHTML=b;if(1==a.childNodes.length)a=a.removeChild(a.firstChild);else{for(b=c.createDocumentFragment();a.firstChild;)b.appendChild(a.firstChild);a=b}this.a.appendChild(a);T(this)};function wd(a){S.call(this,a);this.Y=a.h.size.height;this.Z=a.h.size.width;this.s=null;this.url=a.render_details.path;this.duration+=1}t(wd,S);P.Iframe=wd;wd.prototype.U=function(){this.s=document.createElement("iframe");this.s.src=this.url;this.s.jd=0;this.s.scrolling="no";G(this.s,"100%","100%");G(this.a,"100%","100%");E(this.s,"border",0);this.a.appendChild(this.s);T(this)};function xd(a){S.call(this,a);this.ga=null;this.url=a.render_details.path;this.e=a.h.config?a.h.config.url_parms:null;null!=this.e?(this.e=this.e.trim(),0==this.e.lastIndexOf("?",0)&&(this.e=xa(this.e,"?")),0==this.e.lastIndexOf("&",0)&&(this.e=xa(this.e,"&")),this.e=-1!=this.Ob.indexOf("?")?"&"+this.e:"?"+this.e):this.e="";this.duration=86400}t(xd,S);P.Audio=xd;
xd.prototype.U=function(){this.ga=document.createElement("audio");this.ga.src=this.url+this.e;this.ga.autoplay="autoplay";G(this.ga,"0","0");G(this.a,"0","0");E(this.ga,"display","hidden");E(this.a,"display","hidden");this.a.appendChild(this.ga);T(this)};function yd(){}function zd(a){if("number"==typeof a){var b=new yd;b.fb=a;var c;c=a;if(0==c)c="Etc/GMT";else{var d=["Etc/GMT",0>c?"-":"+"];c=Math.abs(c);d.push(Math.floor(c/60)%100);c%=60;0!=c&&d.push(":",u(c,2));c=d.join("")}b.yc=c;0==a?a="UTC":(c=["UTC",0>a?"+":"-"],a=Math.abs(a),c.push(Math.floor(a/60)%100),a%=60,0!=a&&c.push(":",a),a=c.join(""));b.Nb=[a,a];b.ib=[];return b}b=new yd;b.yc=a.id;b.fb=-a.std_offset;b.Nb=a.names;b.ib=a.transitions;return b}
function Ad(a,b){for(var c=Date.UTC(b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate(),b.getUTCHours(),b.getUTCMinutes())/36E5,d=0;d<a.ib.length&&c>=a.ib[d];)d+=2;return 0==d?0:a.ib[d-1]};function Bd(a){this.Za=[];"number"==typeof a?Cd(this,a):Dd(this,a)}var Ed=[/^\'(?:[^\']|\'\')*\'/,/^(?:G+|y+|M+|k+|S+|E+|a+|h+|K+|H+|c+|L+|Q+|d+|m+|s+|v+|z+|Z+)/,/^[^\'GyMkSEahKHcLQdmsvzZ]+/];function Dd(a,b){for(;b;)for(var c=0;c<Ed.length;++c){var d=b.match(Ed[c]);if(d){d=d[0];b=b.substring(d.length);0==c&&("''"==d?d="'":(d=d.substring(1,d.length-1),d=d.replace(/\'\'/,"'")));a.Za.push({text:d,type:c});break}}}
function Fd(a,b,c){var d=c?6E4*(b.getTimezoneOffset()-(c.fb-Ad(c,b))):0,g=d?new Date(b.getTime()+d):b,e=g;c&&g.getTimezoneOffset()!=b.getTimezoneOffset()&&(e=new Date(b.getTime()+(d+(0<d?-864E5:864E5))));for(var d=[],h=0;h<a.Za.length;++h){var k=a.Za[h].text;1==a.Za[h].type?d.push(Gd(k,b,g,e,c)):d.push(k)}return d.join("")}
function Cd(a,b){var c;if(4>b)c=Q.Pb[b];else if(8>b)c=Q.Qb[b-4];else if(12>b)c=Q.Dc[b-8],c=c.replace("{1}",Q.Pb[b-8]),c=c.replace("{0}",Q.Qb[b-8]);else{Cd(a,10);return}Dd(a,c)}function V(a){if(void 0===Q.Vc)return a;for(var b=[],c=0;c<a.length;c++){var d=a.charCodeAt(c);b.push(48<=d&&57>=d?String.fromCharCode(Q.Vc+d-48):a.charAt(c))}return b.join("")}
function Gd(a,b,c,d,g){var e=a.length;switch(a.charAt(0)){case "G":return b=0<c.getFullYear()?1:0,4<=e?Q.Ec[b]:Q.Fc[b];case "y":return b=c.getFullYear(),0>b&&(b=-b),V(2==e?u(b%100,2):String(b));case "M":a:switch(b=c.getMonth(),e){case 5:e=Q.Jc[b];break a;case 4:e=Q.Ic[b];break a;case 3:e=Q.Lc[b];break a;default:e=V(u(b+1,e))}return e;case "k":return V(u(d.getHours()||24,e));case "S":return V((d.getTime()%1E3/1E3).toFixed(Math.min(3,e)).substr(2)+(3<e?u(0,e-3):""));case "E":return b=c.getDay(),4<=
e?Q.Uc[b]:Q.Nc[b];case "a":return e=d.getHours(),Q.Cc[12<=e&&24>e?1:0];case "h":return V(u(d.getHours()%12||12,e));case "K":return V(u(d.getHours()%12,e));case "H":return V(u(d.getHours(),e));case "c":a:switch(b=c.getDay(),e){case 5:e=Q.Qc[b];break a;case 4:e=Q.Tc[b];break a;case 3:e=Q.Sc[b];break a;default:e=V(u(b,1))}return e;case "L":a:switch(b=c.getMonth(),e){case 5:e=Q.Pc[b];break a;case 4:e=Q.Oc[b];break a;case 3:e=Q.Rc[b];break a;default:e=V(u(b+1,e))}return e;case "Q":return b=Math.floor(c.getMonth()/
3),4>e?Q.Mc[b]:Q.Kc[b];case "d":return V(u(c.getDate(),e));case "m":return V(u(d.getMinutes(),e));case "s":return V(u(d.getSeconds(),e));case "v":return e=g||zd(b.getTimezoneOffset()),e.yc;case "z":return a=g||zd(b.getTimezoneOffset()),4>e?a.Nb[0<Ad(a,b)?2:0]:a.Nb[0<Ad(a,b)?3:1];case "Z":return a=g||zd(b.getTimezoneOffset()),4>e?(e=-(a.fb-Ad(a,b)),b=[0>e?"-":"+"],e=Math.abs(e),b.push(u(Math.floor(e/60)%100,2),u(e%60,2)),e=b.join("")):(e=a.fb-Ad(a,b),b=["GMT"],b.push(0>=e?"+":"-"),e=Math.abs(e),b.push(u(Math.floor(e/
60)%100,2),":",u(e%60,2)),e=V(b.join(""))),e;default:return""}};function Hd(a){S.call(this,a);this.ha=!0;this.Y=a.field.size.height;this.Z=a.field.size.width;this.Lb=a.timezone;this.yb=a.field.config?a.field.config.time_format:null}t(Hd,S);P.ClientTime=Hd;
Hd.prototype.U=function(){var a=new fd,b=new Bd(2),c=new Bd(7),b=Fd(b,a,this.Lb)+" "+Fd(c,a,this.Lb);null!=this.yb&&""!=this.yb.trim()&&(b=Fd(new Bd(this.yb),a,this.Lb));a=this.a;if("textContent"in a)a.textContent=b;else if(3==a.nodeType)a.data=b;else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else Cb(a),a.appendChild(vb(a).createTextNode(String(b)));T(this)};function Id(){this.W=this.G=0;this.S=[]}f=Id.prototype;f.ka=function(a){this.S[this.W++]=a};f.X=function(){if(this.G!=this.W){var a=this.S[this.G];delete this.S[this.G];this.G++;return a}};f.$a=function(){return this.G==this.W?void 0:this.S[this.G]};f.l=function(){return this.W-this.G};f.A=function(){return 0==this.W-this.G};f.clear=function(){this.W=this.G=this.S.length=0};f.remove=function(a){a=w(this.S,a);if(0>a)return!1;a==this.G?this.X():(v.splice.call(this.S,a,1),this.W--);return!0};
f.r=function(){return this.S.slice(this.G,this.W)};function Jd(a,b,c,d,g,e){R.call(this);if(null!=e)for(var h in e)e.hasOwnProperty(h)&&this.c.info("Field "+b+" has configuration "+h+": "+e[h]);this.position=a;this.id=b;this.name=c;this.cd=d;this.o=null;this.V=new Id;this.Xc=!0;this.Cd=g;this.Wb=e;this.ad=this.position.P.screen.Ka;null==this.a&&(a=yb("div",{id:"field_"+this.id,"class":"field"}),G(a,"100%","100%"),this.position.O(a),this.a=a);Kd(this)}t(Jd,R);Jd.prototype.c=I("concerto.frontend.Field");
Jd.prototype.O=function(a,b){this.a.appendChild(a);if(null!=b&&!0==b){for(var c=Hb(this.a),d=200,g=1;d>g+1;){mid=Math.floor((d-g)/2)+g;E(a,"fontSize",mid+"px");var e=Hb(a);e.width<=c.width&&e.height<=c.height?g=mid:d=mid}c=g;console.log("font-size = "+c+"px");E(a,"fontSize",c+"px")}};
function Ld(a){a.c.info("Field "+a.id+" is looking for new content.");if(null!=a.position)if("Time"==a.name){var b={duration:15,id:0,name:"System Time",type:"ClientTime",render_details:{data:null},field:{size:Hb(a.position.a),config:a.Wb}},b=new P.ClientTime(b);a.V.ka(b);O(b,md,a.vc,!1,a);O(b,nd,a.Tb,!1,a);jd(a.V.$a())}else b=a.position.P.screen.Qa(),a.ad.send("field"+a.id,a.cd+"?"+b.toString(),"GET","",null,1,r(function(a){var b=a.target;if(!Md(b))return this.c.log(dc,"Field "+this.id+" was unable to fetch content. "+
(p(b.T)?b.T:String(b.T)),void 0),setTimeout(r(function(){Kd(this,!0)},this),10);a=b.getResponseHeader("X-Concerto-Template-ID");b=Nd(b);if(null!=a&&this.position.P.id!=parseInt(a))return this.position.P.screen.refresh();if(!b.length)return this.c.info("Field "+this.id+" received empty content."),setTimeout(r(function(){Kd(this,!0)},this),10);x(b,r(function(a){a.h={size:Hb(this.position.a),config:this.Wb};if(a.type in P){var b=new P[a.type](a);this.V.ka(b);this.c.info("Field "+this.id+" queued "+a.type+
" content "+a.id);O(b,md,this.vc,!1,this);O(b,nd,this.Tb,!1,this)}else this.c.log(dc,"Field "+this.id+" Unable to find "+a.type+" renderer for content "+a.id,void 0)},this));!this.V.A()&&jd(this.V.$a())},a))}Jd.prototype.vc=function(){this.c.info("Field "+this.id+" is showing new content.");var a=this.V.X();a.rb(Od(this.position));a.c.info("Content "+a.id+" is being rendered.");a.v=a.a;(new this.Cd(this,this.o,a)).go();Zc(this.bb);this.bb&&this.bb.q();this.bb=null;this.bb=this.o;this.o=a};
function Kd(a,b){b=b||!1;a.c.info("Field "+a.id+" would like a new piece of content (error state: "+b+" ).");a.V.A()?(a.c.info("Field "+a.id+" needs to look for more content [queue is empty]."),b?(a.c.info("In error state, sleeping for "+Pd+" seconds."),setTimeout(r(function(){Ld(this)},a),1E3*Pd)):Ld(a)):(a.c.info("Field "+a.id+" is getting content from its queue."),jd(a.V.$a()))}
Jd.prototype.Tb=function(){this.Xc?(this.c.info("Field "+this.id+" is auto-advancing."),Kd(this)):this.c.info("Field "+this.id+" is not advancing.")};var Pd=10+50*Math.random();var Qd={},Rd=null;function Sd(a){a=ia(a);delete Qd[a];Ja(Qd)&&Rd&&Rd.stop()}function Td(){Rd||(Rd=new id(function(){Ud()},20));var a=Rd;a.Va()||a.start()}function Ud(){var a=s();Fa(Qd,function(b){Vd(b,a)});Ja(Qd)||Td()};function Wd(){R.call(this);this.K=Xd;this.$b=this.startTime=null}t(Wd,R);var Xd=0;Wd.prototype.ca=function(){this.L("begin")};Wd.prototype.ma=function(){this.L("end")};Wd.prototype.L=function(a){this.dispatchEvent(a)};function Yd(a,b,c,d){Wd.call(this);if(!n(a)||!n(b))throw Error("Start and end parameters must be arrays");if(a.length!=b.length)throw Error("Start and end points must be the same length");this.Da=a;this.gd=b;this.duration=c;this.Sb=d;this.coords=[];this.Ed=!1}t(Yd,Wd);f=Yd.prototype;f.C=0;
f.play=function(a){if(a||this.K==Xd)this.C=0,this.coords=this.Da;else if(1==this.K)return!1;Sd(this);this.startTime=a=s();-1==this.K&&(this.startTime-=this.duration*this.C);this.$b=this.startTime+this.duration;this.C||this.ca();this.L("play");-1==this.K&&this.L("resume");this.K=1;var b=ia(this);b in Qd||(Qd[b]=this);Td();Vd(this,a);return!0};f.stop=function(a){Sd(this);this.K=Xd;a&&(this.C=1);Zd(this,this.C);this.L("stop");this.ma()};f.g=function(){this.K==Xd||this.stop(!1);this.L("destroy");Yd.k.g.call(this)};
function Vd(a,b){a.C=(b-a.startTime)/(a.$b-a.startTime);1<=a.C&&(a.C=1);Zd(a,a.C);1==a.C?(a.K=Xd,Sd(a),a.L("finish"),a.ma()):1==a.K&&a.Gb()}function Zd(a,b){fa(a.Sb)&&(b=a.Sb(b));a.coords=Array(a.Da.length);for(var c=0;c<a.Da.length;c++)a.coords[c]=(a.gd[c]-a.Da[c])*b+a.Da[c]}f.Gb=function(){this.L("animate")};f.L=function(a){this.dispatchEvent(new $d(a,this))};
function $d(a,b){N.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.z=b.coords[2];this.duration=b.duration;this.C=b.C;this.state=b.K}t($d,N);function W(a,b,c,d,g){Yd.call(this,b,c,d,g);this.element=a}t(W,Yd);W.prototype.Fa=ca;W.prototype.Gb=function(){this.Fa();W.k.Gb.call(this)};W.prototype.ma=function(){this.Fa();W.k.ma.call(this)};W.prototype.ca=function(){this.Fa();W.k.ca.call(this)};function ae(a,b,c,d,g){if(2!=b.length||2!=c.length)throw Error("Start and end points must be 2D");W.apply(this,arguments)}t(ae,W);
ae.prototype.Fa=function(){var a;if(a=this.Ed)m(this.rc)||(this.rc="rtl"==Fb(this.element,"direction")),a=this.rc;this.element.style[a?"right":"left"]=Math.round(this.coords[0])+"px";this.element.style.top=Math.round(this.coords[1])+"px"};function be(a,b,c,d,g){q(b)&&(b=[b]);q(c)&&(c=[c]);W.call(this,a,b,c,d,g);if(1!=b.length||1!=c.length)throw Error("Start and end points must be 1D");}t(be,W);
be.prototype.Fa=function(){var a=this.coords[0],b=this.element.style;"opacity"in b?b.opacity=a:"MozOpacity"in b?b.MozOpacity=a:"filter"in b&&(b.filter=""===a?"":"alpha(opacity="+100*a+")")};be.prototype.show=function(){this.element.style.display=""};function ce(a,b,c){be.call(this,a,1,0,b,c)}t(ce,be);ce.prototype.ca=function(){this.show();ce.k.ca.call(this)};ce.prototype.ma=function(){this.element.style.display="none";ce.k.ma.call(this)};function de(a,b,c){be.call(this,a,0,1,b,c)}t(de,be);
de.prototype.ca=function(){this.show();de.k.ca.call(this)};function ee(a,b,c){this.duration=500;od.call(this,a,b,c)}t(ee,od);ee.prototype.Ib=function(){this.o.dispatchEvent("e");var a=new ce(this.o.v,this.duration);Rc(a,"end",this.Hb,!1,this);a.play()};ee.prototype.Ua=function(){this.p.dispatchEvent("c");this.p.v.style.display="none";this.h.O(this.p.v,this.p.ha);var a=new de(this.p.v,this.duration);Rc(a,"end",this.Ab,!1,this);a.play()};function fe(a){return a*a*a}function ge(a){return 1-Math.pow(1-a,3)};function he(a,b,c){this.duration=500;od.call(this,a,b,c)}t(he,od);he.prototype.c=I("concerto.frontend.Transition.Slide");he.prototype.Ib=function(){this.o.dispatchEvent("e");var a=new ae(this.o.v,[this.o.v.offsetLeft,this.o.v.offsetTop],[0-this.h.position.a.clientWidth,this.o.v.offsetTop],this.duration,fe);Rc(a,"end",this.Hb,!1,this);a.play()};
he.prototype.Ua=function(){this.c.info("Field "+this.h.id+" is sliding in.");this.p.dispatchEvent("c");this.h.O(this.p.v,this.p.ha);var a=new ae(this.p.v,[this.h.position.a.clientWidth,0],[0,0],this.duration,ge);Rc(a,"end",this.Ab,!1,this);a.play()};function ie(a,b){this.id=null;this.P=a;this.a=b||this.ub()}f=ie.prototype;f.c=I("concerto.frontend.Position");f.ub=function(){var a=yb("div",{id:"position_"+this.id,"class":"position"});E(a,"position","absolute");this.P.O(a);return a};
f.load=function(a){this.id=a.id;this.Yc=parseFloat(a.bottom);this.jc=parseFloat(a.left);this.yd=parseFloat(a.right);this.Bc=parseFloat(a.top);this.xc=a.style;var b=this.a,c=100*this.jc+"%",d=100*this.Bc+"%",g=A&&(Ya||eb)&&D("1.9");b.style.left=Gb(c,g);b.style.top=Gb(d,g);G(this.a,100*(this.yd-this.jc)+"%",100*(this.Yc-this.Bc)+"%");b=ee;c=null;if(null!=a.field.config&&(c=a.field.config,null!=c.transition))switch(c.transition.toLowerCase()){case "slide":b=he;break;case "replace":b=od;break;default:b=
ee}this.h=new Jd(this,a.field.id,a.field.name,a.field_contents_path,b,c);this.tc()};f.O=function(a){this.a.appendChild(a)};f.tc=function(){wb(this.a,{id:"position_"+this.id,"class":"position"});E(this.a,je)};function Od(a){a=null==a.xc?"":Nb(a.xc);a=Ga(a,function(a,b){return!(0<=w(ke,b.toLowerCase()))});var b={};La(b,le);La(b,a);return b}var ke="overflow width height top left bottom right".split(" "),je={overflow:"hidden"},le={position:"absolute"};function me(a,b){this.screen=a;this.path=this.id=null;this.oc=[];this.a=b||this.ub()}me.prototype.c=I("concerto.frontend.Template");me.prototype.ub=function(){var a=yb("div",{id:"template","class":"template"});G(a,"100%","100%");this.screen.O(a);return a};me.prototype.load=function(a){this.id=a.id;this.ea=a.path;this.Yb=a.css_path;wb(this.a,{id:"template_"+this.id});ne(this);null!=a.positions&&x(a.positions,r(function(a){var c=new ie(this);c.load(a);a=this.oc;0<=w(a,c)||a.push(c)},this))};
function ne(a){var b=Hb(a.a);if(null!=a.ea){var c=new nc(a.ea),d=b.height;J(c);c.H.set("height",d);b=b.width;J(c);c.H.set("width",b);E(a.a,"background-image","url("+c.toString()+")")}E(a.a,"background-size","100% 100%");E(a.a,"background-repeat","no-repeat");null!=a.Yb&&(a=yb("link",{href:a.Yb,media:"screen",rel:"stylesheet",type:"text/css"}),document.head.appendChild(a))}me.prototype.O=function(a){this.a.appendChild(a)};function oe(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);};function pe(){}pe.prototype.Ub=null;function qe(a){var b;(b=a.Ub)||(b={},re(a)&&(b[0]=!0,b[1]=!0),b=a.Ub=b);return b};var se;function te(){}t(te,pe);function ue(a){return(a=re(a))?new ActiveXObject(a):new XMLHttpRequest}function re(a){if(!a.gc&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.gc=d}catch(g){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.gc}se=new te;function X(a,b){a&&a.log(gc,b,void 0)};function ve(a){R.call(this);this.headers=new H;this.pb=a||null;this.R=!1;this.ob=this.d=null;this.ic=this.Wa="";this.la=0;this.T="";this.aa=this.Bb=this.Ta=this.xb=!1;this.Q=0;this.gb=null;this.Ca=we;this.jb=this.Fd=!1}t(ve,R);var we="",xe=ve.prototype,ze=I("goog.net.XhrIo");xe.c=ze;var Ae=/^https?$/i,Be=["POST","PUT"];f=ve.prototype;f.uc=function(a){this.Q=Math.max(0,a)};
f.send=function(a,b,c,d){if(this.d)throw Error("[goog.net.XhrIo] Object is active with another request="+this.Wa+"; newUri="+a);b=b?b.toUpperCase():"GET";this.Wa=a;this.T="";this.la=0;this.ic=b;this.xb=!1;this.R=!0;this.d=this.pb?ue(this.pb):ue(se);this.ob=this.pb?qe(this.pb):qe(se);this.d.onreadystatechange=r(this.nc,this);try{X(this.c,Y(this,"Opening Xhr")),this.Bb=!0,this.d.open(b,a,!0),this.Bb=!1}catch(g){X(this.c,Y(this,"Error opening Xhr: "+g.message));Ce(this,g);return}a=c||"";var e=this.headers.u();
d&&Qb(d,function(a,b){e.set(b,a)});d=Oa(e.I());c=l.FormData&&a instanceof l.FormData;!(0<=w(Be,b))||d||c||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");Qb(e,function(a,b){this.d.setRequestHeader(b,a)},this);this.Ca&&(this.d.responseType=this.Ca);"withCredentials"in this.d&&(this.d.withCredentials=this.Fd);try{De(this),0<this.Q&&(this.jb=Ee(this.d),X(this.c,Y(this,"Will abort after "+this.Q+"ms if incomplete, xhr2 "+this.jb)),this.jb?(this.d.timeout=this.Q,this.d.ontimeout=
r(this.zc,this)):this.gb=hd(this.zc,this.Q,this)),X(this.c,Y(this,"Sending request")),this.Ta=!0,this.d.send(a),this.Ta=!1}catch(h){X(this.c,Y(this,"Send error: "+h.message)),Ce(this,h)}};function Ee(a){return z&&D(9)&&q(a.timeout)&&m(a.ontimeout)}function Pa(a){return"content-type"==a.toLowerCase()}f.zc=function(){"undefined"!=typeof aa&&this.d&&(this.T="Timed out after "+this.Q+"ms, aborting",this.la=8,X(this.c,Y(this,this.T)),this.dispatchEvent("timeout"),this.abort(8))};
function Ce(a,b){a.R=!1;a.d&&(a.aa=!0,a.d.abort(),a.aa=!1);a.T=b;a.la=5;Fe(a);Ge(a)}function Fe(a){a.xb||(a.xb=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))}f.abort=function(a){this.d&&this.R&&(X(this.c,Y(this,"Aborting")),this.R=!1,this.aa=!0,this.d.abort(),this.aa=!1,this.la=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ge(this))};f.g=function(){this.d&&(this.R&&(this.R=!1,this.aa=!0,this.d.abort(),this.aa=!1),Ge(this,!0));ve.k.g.call(this)};
f.nc=function(){this.ja||(this.Bb||this.Ta||this.aa?He(this):this.xd())};f.xd=function(){He(this)};
function He(a){if(a.R&&"undefined"!=typeof aa)if(a.ob[1]&&4==Ie(a)&&2==Je(a))X(a.c,Y(a,"Local request error detected and ignored"));else if(a.Ta&&4==Ie(a))hd(a.nc,0,a);else if(a.dispatchEvent("readystatechange"),4==Ie(a)){X(a.c,Y(a,"Request complete"));a.R=!1;try{if(Md(a))a.dispatchEvent("complete"),a.dispatchEvent("success");else{a.la=6;var b;try{b=2<Ie(a)?a.d.statusText:""}catch(c){X(a.c,"Can not get status: "+c.message),b=""}a.T=b+" ["+Je(a)+"]";Fe(a)}}finally{Ge(a)}}}
function Ge(a,b){if(a.d){De(a);var c=a.d,d=a.ob[0]?ca:null;a.d=null;a.ob=null;b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(g){(c=a.c)&&c.log(cc,"Problem encountered resetting onreadystatechange: "+g.message,void 0)}}}function De(a){a.d&&a.jb&&(a.d.ontimeout=null);q(a.gb)&&(l.clearTimeout(a.gb),a.gb=null)}f.Va=function(){return!!this.d};
function Md(a){var b=Je(a),c;a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:c=!0;break a;default:c=!1}if(!c){if(b=0===b)a=lc(String(a.Wa))[1]||null,!a&&self.location&&(a=self.location.protocol,a=a.substr(0,a.length-1)),b=!Ae.test(a?a.toLowerCase():"");c=b}return c}function Ie(a){return a.d?a.d.readyState:0}function Je(a){try{return 2<Ie(a)?a.d.status:-1}catch(b){return(a=a.c)&&a.log(dc,"Can not get status: "+b.message,void 0),-1}}
function Nd(a){if(a.d)return oe(a.d.responseText)}f.getResponseHeader=function(a){return this.d&&4==Ie(this)?this.d.getResponseHeader(a):void 0};function Y(a,b){return b+" ["+a.ic+" "+a.Wa+" "+Je(a)+"]"};function Ke(a,b){L.call(this);this.kc=a||0;this.Ya=b||10;if(this.kc>this.Ya)throw Error(Le);this.M=new Id;this.N=new Tb;this.wb=0;this.Cb=null;this.Ga()}t(Ke,L);var Le="[goog.structs.Pool] Min can not be greater than max";f=Ke.prototype;f.Pa=function(){var a=s();if(!(null!=this.Cb&&a-this.Cb<this.wb)){for(var b;0<this.M.l()&&(b=this.M.X(),!this.Fb(b));)this.Ga();!b&&this.l()<this.Ya&&(b=this.vb());b&&(this.Cb=a,this.N.add(b));return b}};
f.ra=function(a){this.N.remove(a);this.Fb(a)&&this.l()<this.Ya?this.M.ka(a):Me(a)};f.Ga=function(){for(var a=this.M;this.l()<this.kc;)a.ka(this.vb());for(;this.l()>this.Ya&&0<this.M.l();)Me(a.X())};f.vb=function(){return{}};function Me(a){if("function"==typeof a.q)a.q();else for(var b in a)a[b]=null}f.Fb=function(a){return"function"==typeof a.$c?a.$c():!0};f.l=function(){return this.M.l()+this.N.l()};f.A=function(){return this.M.A()&&this.N.A()};
f.g=function(){Ke.k.g.call(this);if(0<this.N.l())throw Error("[goog.structs.Pool] Objects not released");delete this.N;for(var a=this.M;!a.A();)Me(a.X());delete this.M};function Ne(a,b){this.hc=a;this.lb=b}Ne.prototype.getKey=function(){return this.hc};Ne.prototype.u=function(){return new Ne(this.hc,this.lb)};function Oe(a){this.B=[];if(a)a:{var b,c;if(a instanceof Oe){if(b=a.I(),c=a.r(),0>=a.l()){a=this.B;for(var d=0;d<b.length;d++)a.push(new Ne(b[d],c[d]));break a}}else b=Ia(a),c=Ha(a);for(d=0;d<b.length;d++)Pe(this,b[d],c[d])}}function Pe(a,b,c){var d=a.B;d.push(new Ne(b,c));b=d.length-1;a=a.B;for(c=a[b];0<b;)if(d=b-1>>1,a[d].getKey()>c.getKey())a[b]=a[d],b=d;else break;a[b]=c}f=Oe.prototype;
f.remove=function(){var a=this.B,b=a.length,c=a[0];if(!(0>=b)){if(1==b)Qa(a);else{a[0]=a.pop();for(var a=0,b=this.B,d=b.length,g=b[a];a<d>>1;){var e=2*a+1,h=2*a+2,e=h<d&&b[h].getKey()<b[e].getKey()?h:e;if(b[e].getKey()>g.getKey())break;b[a]=b[e];a=e}b[a]=g}return c.lb}};f.$a=function(){var a=this.B;return 0==a.length?void 0:a[0].lb};f.r=function(){for(var a=this.B,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].lb);return b};
f.I=function(){for(var a=this.B,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getKey());return b};f.ia=function(a){return Na(this.B,function(b){return b.getKey()==a})};f.u=function(){return new Oe(this)};f.l=function(){return this.B.length};f.A=function(){return 0==this.B.length};f.clear=function(){Qa(this.B)};function Qe(){Oe.call(this)}t(Qe,Oe);Qe.prototype.ka=function(a,b){Pe(this,a,b)};Qe.prototype.X=function(){return this.remove()};function Z(a,b){this.Zb=void 0;this.eb=new Qe;Ke.call(this,a,b)}t(Z,Ke);f=Z.prototype;f.Pa=function(a,b){if(!a){var c=Z.k.Pa.call(this);c&&this.wb&&(this.Zb=l.setTimeout(r(this.Ra,this),this.wb));return c}this.eb.ka(m(b)?b:100,a);this.Ra()};f.Ra=function(){for(var a=this.eb;0<a.l();){var b=this.Pa();if(b)a.X().apply(this,[b]);else break}};f.ra=function(a){Z.k.ra.call(this,a);this.Ra()};f.Ga=function(){Z.k.Ga.call(this);this.Ra()};
f.g=function(){Z.k.g.call(this);l.clearTimeout(this.Zb);this.eb.clear();this.eb=null};function Re(a,b,c){Z.call(this,b,c);this.zb=a}t(Re,Z);Re.prototype.vb=function(){var a=new ve,b=this.zb;b&&Qb(b,function(b,d){a.headers.set(d,b)});return a};Re.prototype.Fb=function(a){return!a.ja&&!a.Va()};function Se(a,b,c,d,g){R.call(this);this.Aa=m(a)?a:1;this.Q=m(g)?Math.max(0,g):0;this.qa=new Re(b,c,d);this.D=new H;this.ta=new qd(this)}t(Se,R);var Te="ready complete success error abort timeout".split(" ");f=Se.prototype;f.uc=function(a){this.Q=Math.max(0,a)};f.send=function(a,b,c,d,g,e,h,k,B){if(this.D.get(a))throw Error("[goog.net.XhrManager] ID in use");b=new Ue(b,r(this.md,this,a),c,d,g,h,m(k)?k:this.Aa,B);this.D.set(a,b);a=r(this.ld,this,a);this.qa.Pa(a,e);return b};
f.abort=function(a,b){var c=this.D.get(a);if(c){var d=c.nb;c.Rb=!0;b&&(d&&(this.ta.pa(d,Te,c.mb),O(d,"ready",function(){var a=this.qa;a.N.remove(d)&&a.ra(d)},!1,this)),this.D.remove(a));d&&d.abort()}};f.ld=function(a,b){var c=this.D.get(a);c&&!c.nb?(this.ta.Xa(b,Te,c.mb),b.uc(this.Q),b.Ca=c.Ca,c.nb=b,this.dispatchEvent(new Ve("ready",this,a,b)),We(this,a,b),c.Rb&&b.abort()):(c=this.qa,c.N.remove(b)&&c.ra(b))};
f.md=function(a,b){var c=b.target;switch(b.type){case "ready":We(this,a,c);break;case "complete":a:{var d=this.D.get(a);if(7==c.la||Md(c)||d.Ha>d.Aa)if(this.dispatchEvent(new Ve("complete",this,a,c)),d&&(d.Vb=!0,d.tb)){c=d.tb.call(c,b);break a}c=null}return c;case "success":this.dispatchEvent(new Ve("success",this,a,c));break;case "timeout":case "error":d=this.D.get(a);d.Ha>d.Aa&&this.dispatchEvent(new Ve("error",this,a,c));break;case "abort":this.dispatchEvent(new Ve("abort",this,a,c))}return null};
function We(a,b,c){var d=a.D.get(b);!d||d.Vb||d.Ha>d.Aa?(d&&(a.ta.pa(c,Te,d.mb),a.D.remove(b)),a=a.qa,a.N.remove(c)&&a.ra(c)):(d.Ha++,c.send(d.Dd,d.sd,d.bd,d.zb))}f.g=function(){Se.k.g.call(this);this.qa.q();this.qa=null;this.ta.q();this.ta=null;var a=this.D;Qb(a,function(a){a.q()});a.clear();this.D=null};function Ve(a,b,c,d){N.call(this,a,b);this.id=c;this.nb=d}t(Ve,N);
function Ue(a,b,c,d,g,e,h,k){L.call(this);this.Dd=a;this.sd=c||"GET";this.bd=d;this.zb=g||null;this.Aa=m(h)?h:1;this.Ha=0;this.Rb=this.Vb=!1;this.mb=b;this.tb=e;this.Ca=k||we;this.nb=null}t(Ue,L);Ue.prototype.g=function(){Ue.k.g.call(this);delete this.mb;delete this.tb};function Xe(a,b,c){this.Ka=new Se(2,null,0,2);this.id=a;this.options=c;this.Ad=this.options.setupPath;this.name="New Screen";this.Xb=b||document.body;Ye(this)}var Ze=["concerto","frontend","Screen"],$=l;Ze[0]in $||!$.execScript||$.execScript("var "+Ze[0]);for(var $e;Ze.length&&($e=Ze.shift());)Ze.length||void 0===Xe?$=$[$e]?$[$e]:$[$e]={}:$[$e]=Xe;Xe.prototype.c=I("concerto.frontend.Screen");
Xe.prototype.refresh=function(){requests=this.Ka.D.I();x(requests,r(function(a){this.Ka.abort(a,!0)},this));this.P&&x(this.P.oc,r(function(a){a.h.position=null},this));Ye(this)};
function Ye(a){var b=yb("div",{id:"screen_"+a.id,"class":"screen"});G(b,"100%","100%");E(b,"position","relative");Cb(a.Xb);a.Xb.appendChild(b);a.a=b;b=a.Qa();b=a.Ad+"?"+b.toString();a.c.info("Requesting screen config from "+b);a.Ka.send("setup",b,"GET","",null,1,r(function(a){a=Nd(a.target);this.name=a.name;null!=a.template&&(this.P=new me(this),this.P.load(a.template))},a))}Xe.prototype.O=function(a){this.a.appendChild(a)};
Xe.prototype.Qa=function(){var a=new rc;this.options.isPreview&&a.add("preview","true");return a};
